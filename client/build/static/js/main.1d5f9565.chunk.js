(this.webpackJsonpladybug=this.webpackJsonpladybug||[]).push([[0],{166:function(e,t,a){e.exports=a.p+"static/media/logoweb.3d7404c3.png"},167:function(e,t,a){e.exports=a.p+"static/media/name_white.01b3dd8d.png"},168:function(e,t,a){e.exports=a.p+"static/media/verifymail.fcc89a56.png"},201:function(e,t,a){e.exports=a(377)},376:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(41),s=a.n(c),l=a(10),o=a(22),i=a(6),u=a(47),m=a(164),d=a(165),p=a(90),f="POST_ERROR",E=[],v=a(1),b={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},g={modules:[],followedModules:[],recommendedModules:[],modulesInUniversity:[],module:null,loading:!0,error:{}},h={universities:[],university:null,loading:!0,error:{}},N={posts:[],postsByUser:[],recommendedPosts:[],savedPosts:[],post:null,loading:!0,error:{}},y={profile:null,profiles:[],loading:!0,error:{},contributions:null,contributionsId:null},O={request:null,requests:[],loading:!0,error:{}},j={notifications:[],notification:null,loading:!0,error:{}},w=Object(u.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(p.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":case"VERIFY_SUCCESS":return localStorage.setItem("token",n.token),Object(v.a)(Object(v.a)(Object(v.a)({},e),n),{},{isAuthenticated:!0,loading:!1});case"SAVE_POST":case"UNSAVE_POST":return Object(v.a)(Object(v.a)({},e),{},{user:Object(v.a)(Object(v.a)({},e.user),{},{saved:n.saved}),isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"VERIFY_FAIL":return localStorage.removeItem("token"),Object(v.a)(Object(v.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});case"UPDATE_PROFILE":return Object(v.a)(Object(v.a)({},e),{},{user:Object(v.a)(Object(v.a)({},e.user),{},{avatar:n.avatar}),isAuthenticated:!0,loading:!1});default:return e}},module:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_MODULES":return Object(v.a)(Object(v.a)({},e),{},{modules:n,loading:!1});case"GET_MODULES_RECOMMENDATIONS":return Object(v.a)(Object(v.a)({},e),{},{recommendedModules:n,loading:!1});case"GET_MODULES_IN_UNIVERSITY":return Object(v.a)(Object(v.a)({},e),{},{modulesInUniversity:n,loading:!1});case"GET_MODULE":return Object(v.a)(Object(v.a)({},e),{},{module:n,loading:!1});case"MODULES_ERROR":case"MODULE_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1});case"UPDATE_FOLLOWERS":return Object(v.a)(Object(v.a)({},e),{},{modules:e.modules.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{followers:n.followers}):e})),followedModules:e.followedModules.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{followers:n.followers}):e})),recommendedModules:e.recommendedModules.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{followers:n.followers}):e})),modulesInUniversity:e.modulesInUniversity.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{followers:n.followers}):e})),module:e.module&&e.module._id===n.id?Object(v.a)(Object(v.a)({},e.module),{},{followers:n.followers}):null,loading:!1});case"GET_FOLLOWEDMODULES":return Object(v.a)(Object(v.a)({},e),{},{followedModules:n,loading:!1});default:return e}},university:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_UNIVERSITIES":return Object(v.a)(Object(v.a)({},e),{},{universities:n,loading:!1});case"GET_UNIVERSITY":return Object(v.a)(Object(v.a)({},e),{},{university:n,loading:!1});case"UNIVERSITIES_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1});case"UNIVERSITY_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:n,university:null,loading:!1});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS_RECOMMENDATIONS":return Object(v.a)(Object(v.a)({},e),{},{recommendedPosts:n,loading:!1});case"GET_POSTS_FROM_MODULE":case"GET_MOST_RECENT_POSTS":case"GET_MOST_LIKED_POSTS":case"GET_MOST_DISCUSSED_POSTS":return Object(v.a)(Object(v.a)({},e),{},{posts:n,loading:!1});case"GET_POSTS_BY_USER":return Object(v.a)(Object(v.a)({},e),{},{postsByUser:n,loading:!1});case"GET_POST":return Object(v.a)(Object(v.a)({},e),{},{post:n,loading:!1});case"DELETE_POST":return Object(v.a)(Object(v.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==n})),loading:!1,postsByUser:e.postsByUser.filter((function(e){return e._id!==n})),recommendedPosts:e.recommendedPosts.filter((function(e){return e._id!==n})),savedPosts:e.savedPosts.filter((function(e){return e._id!==n}))});case"ADD_POST":return Object(v.a)(Object(v.a)({},e),{},{posts:[n].concat(Object(p.a)(e.posts)),loading:!1});case"UPDATE_POST":return Object(v.a)(Object(v.a)({},e),{},{posts:e.posts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{text:n.post.text,title:n.post.title}):e})),postsByUser:e.postsByUser.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{text:n.post.text,title:n.post.title}):e})),recommendedPosts:e.recommendedPosts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{text:n.post.text,title:n.post.title}):e})),savedPosts:e.savedPosts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{text:n.post.text,title:n.post.title}):e})),post:e.post&&e.post._id===n.id?Object(v.a)(Object(v.a)({},e.post),{},{text:n.post.text,title:n.post.title}):null,loading:!1});case f:return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1});case"UPDATE_VOTES":return Object(v.a)(Object(v.a)({},e),{},{posts:e.posts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{upvote:n.upvote,downvote:n.downvote}):e})),postsByUser:e.postsByUser.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{upvote:n.upvote,downvote:n.downvote}):e})),recommendedPosts:e.recommendedPosts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{upvote:n.upvote,downvote:n.downvote}):e})),savedPosts:e.savedPosts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{upvote:n.upvote,downvote:n.downvote}):e})),post:e.post&&e.post._id===n.id?Object(v.a)(Object(v.a)({},e.post),{},{upvote:n.upvote,downvote:n.downvote}):null,loading:!1});case"GET_SAVED_POSTS":return Object(v.a)(Object(v.a)({},e),{},{savedPosts:n,loading:!1});case"UNSAVE_POST":return Object(v.a)(Object(v.a)({},e),{},{savedPosts:e.savedPosts.filter((function(e){return e._id!==n.id}))});case"ADD_COMMENT":return Object(v.a)(Object(v.a)({},e),{},{post:Object(v.a)(Object(v.a)({},e.post),{},{comments:n}),loading:!1});case"REMOVE_COMMENT":return Object(v.a)(Object(v.a)({},e),{},{post:Object(v.a)(Object(v.a)({},e.post),{},{comments:e.post.comments.filter((function(e){return e._id!==n}))}),loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":case"UPDATE_PROFILE":return Object(v.a)(Object(v.a)({},e),{},{profile:n,loading:!1});case"PROFILE_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1,profile:null});case"CLEAR_PROFILE":return Object(v.a)(Object(v.a)({},e),{},{profile:null,loading:!1});case"GET_CONTRIBUTIONS":return Object(v.a)(Object(v.a)({},e),{},{contributions:n.data,contributionsId:n.id,loading:!1});default:return e}},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{request:n,loading:!1});case"REQUEST_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1,profile:null});case"GET_REQUESTS":return Object(v.a)(Object(v.a)({},e),{},{requests:n,loading:!1});case"DELETE_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{requests:e.requests.filter((function(e){return e._id!==n}))});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_NOTIFICATIONS":return Object(v.a)(Object(v.a)({},e),{},{notifications:n,loading:!1});case"MARK_NOTIFICATION_AS_READ":return Object(v.a)(Object(v.a)({},e),{},{notifications:e.notifications.map((function(e){return e._id===n.id?n.data:e})),loading:!1});case"DELETE_NOTIFICATION":return Object(v.a)(Object(v.a)({},e),{},{notifications:e.notifications.filter((function(e){return e._id!==n})),loading:!1});case"CLEAR_NOTIFICATIONS":return Object(v.a)(Object(v.a)({},e),{},{notifications:[],loading:!1});case"NOTIFICATION_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1});default:return e}}}),x=[d.a],k=Object(u.createStore)(w,{},Object(m.composeWithDevTools)(u.applyMiddleware.apply(void 0,x))),S=k,_=a(3),C=a.n(_),R=a(9),T=a(8),P=a.n(T),D=a(396),I=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=Object(D.a)();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),a)}},M=function(e){e?P.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete P.a.defaults.headers.common.Authorization},U=function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/notifications");case 3:a=e.sent,t({type:"GET_NOTIFICATIONS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"NOTIFICATION_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.post("/notifications/mark-read/".concat(e));case 3:n=t.sent,a({type:"MARK_NOTIFICATION_AS_READ",payload:{id:e,data:n.data}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"NOTIFICATION_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},L=function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&M(localStorage.token),e.prev=1,e.next=4,P.a.get("/users");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},F=a(62),q=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=(a.isAuthenticated,a.loading),c=a.user,s=Object(F.a)(e,["component","auth"]);return r.a.createElement(o.b,Object.assign({},s,{render:function(e){return n||c&&(!c||c.verified)?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))})),G=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=(a.isAuthenticated,a.loading),c=a.user,s=Object(F.a)(e,["component","auth"]);return r.a.createElement(o.b,Object.assign({},s,{render:function(e){return n||c&&(!c||c.verified)?c&&"user"==c.role?r.a.createElement(o.a,{to:"/home"}):r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))})),Y=a(394),B=a(4),V=a(28),W=a.n(V),z=Object(i.b)(null,{markAsRead:A})((function(e){var t=e.notification,a=e.markAsRead,c=t._id,s=t.user,o=t.action,i=t.type,u=t.read,m=t.date,d=Object(n.useState)(null),p=Object(B.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(null),b=Object(B.a)(v,2),g=b[0],h=b[1];return Object(n.useState)((function(){P.a.get("/profiles/".concat(s)).then((function(e){return E(e.data)})),"request"!==i?P.a.get("/posts/".concat(o)).then((function(e){return h(e.data)})):P.a.get("/modules/".concat(o)).then((function(e){return h(e.data)}))}),[]),f&&g&&r.a.createElement("div",{className:!1===u?"item":"active item",style:{wordWrap:"break-word",flex:"inherit",whiteSpace:"normal"}},r.a.createElement(l.b,{to:"request"===i?"/".concat(g.acronym,"/").concat(g.name):"/".concat(g.uniAcronym,"/").concat(g.moduleName,"/").concat(o),onClick:function(){return a(c)}},r.a.createElement("div",{className:"ui list"},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"three wide column",style:{paddingRight:"0",margin:"auto"}},r.a.createElement("img",{className:"ui avatar image",src:"request"===i?"https://i.ibb.co/jHjp6qk/square-logo.jpg":"".concat(f.avatar)})),r.a.createElement("div",{className:"thirteen wide column",style:{paddingLeft:"0px"}},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:!0===u?"header grey-text":"header",style:{fontWeight:!0===u?"normal":"bold"}},"request"===i?"Your module request has been approved by admin":"".concat(f.name,"upvote"===i?" upvoted your post":" commented on your post")),r.a.createElement("div",{className:"description small-text"},r.a.createElement(W.a,{fromNow:!0},m)))))))))})),H=Object(i.b)((function(e){return{notification:e.notification}}),{getNotifications:U})((function(e){var t=e.getNotifications,a=e.notification,c=a.notifications,s=a.loading;Object(n.useEffect)((function(){t()}),[]);var o=c.filter((function(e){return!1===e.read}));return!s&&c&&o&&r.a.createElement(n.Fragment,null,r.a.createElement(Y.a,{badgeContent:o.length,color:"error",anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement("i",{className:"bell icon",style:{margin:"auto"}})),r.a.createElement("div",{className:"ui small vertical left menu",style:{width:"70vw",maxWidth:"350px"}},r.a.createElement("div",{className:"header"},"Notifications"),r.a.createElement("div",{className:"divider"}),c.length>0?c.map((function(e,t){return t<3&&r.a.createElement(z,{key:e._id,notification:e})})):r.a.createElement("div",{className:"center-text small-text"},"You have no notifications"),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"header center-text"},r.a.createElement(l.b,{to:"/notifications"},"See all notifications ",r.a.createElement("i",{className:"arrow right icon"})))))})),J=a(166),Q=a.n(J),Z=Object(i.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:"CLEAR_NOTIFICATIONS"}),e({type:"LOGOUT"})}}})((function(e){var t=e.auth,a=t.isAuthenticated,c=t.loading,s=t.user,o=e.logout,i=r.a.createElement("div",{className:"right menu "},r.a.createElement(l.b,{to:"/register",onClick:o,className:"item"},"Register"),r.a.createElement(l.b,{to:"/login",onClick:o,className:"item"},"Login"));return r.a.createElement("div",{className:"ui inverted fixed big menu navbar"},r.a.createElement("div",{className:"ui container"},r.a.createElement(l.b,{to:"/",className:"item"},r.a.createElement("img",{className:"ui middle aligned tiny image",src:Q.a})),!c&&r.a.createElement(n.Fragment,null," ",a&&s&&s.verified?r.a.createElement("div",{className:"right menu "},r.a.createElement(l.b,{to:"/home",className:"item"},"Home"),r.a.createElement(l.b,{to:"/explore",className:"item"},"Explore"),"admin"==s.role&&r.a.createElement(l.b,{to:"/requests",className:"hide-content item"},"Requests"),r.a.createElement("div",{className:"ui simple dropdown item"},r.a.createElement(H,null)),r.a.createElement("div",{className:"ui simple dropdown vertically fitted item"},r.a.createElement("img",{style:{margin:"auto"},className:"ui avatar image xsmall-image",src:"".concat(s.avatar),alt:""}),r.a.createElement("div",{className:"ui small vertical menu"},r.a.createElement(l.b,{to:"/saved-posts",className:"item"},r.a.createElement("i",{className:"bookmark icon"}),"Saved posts"),"admin"==s.role&&r.a.createElement(l.b,{to:"/requests",className:"item show-content",style:{display:"none"}},r.a.createElement("i",{className:"sticky note icon"})," Requests"),r.a.createElement(l.b,{to:"/profile/me",className:"item"},r.a.createElement("i",{className:"user icon"}),"Profile"),r.a.createElement(l.b,{to:"/login",onClick:o,className:"item"},r.a.createElement("i",{className:"sign-out icon"}),"Logout")))):i," ")))})),K=a(167),X=a.n(K),$=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){return e.isAuthenticated?r.a.createElement(o.a,{to:"/home"}):r.a.createElement("section",{className:"landing"},r.a.createElement("div",{className:"dark-overlay"},r.a.createElement("div",{className:"landing-inner"},r.a.createElement("h1",{className:"ui x-large"},r.a.createElement("img",{className:"large-image",src:X.a,alt:"ladybug"})),r.a.createElement("p",{className:"ui center aligned lead"},"Ask questions, discuss, and get help from other students worldwide."),r.a.createElement("div",{className:"ui row"},r.a.createElement(l.b,{to:"/register",className:"ui big negative button"},r.a.createElement("i",{className:"signup icon"}),"Register"),r.a.createElement(l.b,{to:"/login",className:"ui big button"},r.a.createElement("i",{className:"sign-in icon"}),"Login")))))})),ee=a(168),te=a.n(ee),ae=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"center-page"},r.a.createElement("div",{className:"ui center-text white-text"},r.a.createElement("img",{src:te.a,className:"ui large image centered"}),!t.loading&&t.isAuthenticated&&t.user&&r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"Thank you! An email has been sent to ","".concat(t.user.email)),r.a.createElement("h5",null,"Please check your inbox to verify your email address"))))))})),ne=Object(i.b)((function(e){return{auth:e.auth}}),{verifyUser:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return M(e),t.prev=1,t.next=4,P.a.get("/users/verify/".concat(e));case 4:n=t.sent,a({type:"VERIFY_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response.data),a({type:"VERIFY_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:L})((function(e){var t=e.auth,a=e.verifyUser,c=e.loadUser,s=e.match;return Object(n.useEffect)((function(){a(s.params.token)}),[]),Object(n.useEffect)((function(){c()}),[]),!t.loading&&t.user&&t.user.verified?r.a.createElement(o.a,{to:"/home"}):!t.loading&&t.user&&!t.user.verified&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-body"},r.a.createElement("h1",null,"404 Bad Request")))})),re=a(15),ce=Object(i.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return r.a.createElement("div",{key:e.id,className:"ui ".concat(e.alertType," message")},e.msg)}))})),se=Object(i.b)((function(e){return{auth:e.auth}}),{forgotPassword:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e}),t.next=5,P.a.post("/users/forgot",r,n);case 5:c=t.sent,a(I("".concat(c.data),"success")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),s=t.t0.response.data.errors,console.log(t.t0.response.data),s&&a(I(s.msg,"error"));case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.auth,a=e.forgotPassword,c=Object(n.useState)({email:""}),s=Object(B.a)(c,2),i=s[0],u=s[1],m=i.email,d=function(){var e=Object(R.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(m);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!t.loading&&t.isAuthenticated&&t.user&&t.user.verified?r.a.createElement(o.a,{to:"/home"}):!t.loading&&t.isAuthenticated&&t.user&&!t.user.verified?r.a.createElement(o.a,{to:"/verification"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"ui container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"form-center"},r.a.createElement("h1",{className:"large white-text center-text"},"Forgot Password?"),r.a.createElement("form",{className:"ui form",onSubmit:d},r.a.createElement("div",{className:"ui raised segment"},r.a.createElement("h3",{className:"ui dividing header"}," ","Don't worry! Enter your email address and we will send you a password reset link"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Email"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"envelope icon"}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email address",value:m,onChange:function(e){return function(e){return u(Object(v.a)(Object(v.a)({},i),{},Object(re.a)({},e.target.name,e.target.value)))}(e)}}))),r.a.createElement("button",{type:"submit",className:"ui vertical animated fluid large submit button red-button"},r.a.createElement("div",{className:"visible content"},"Send Reset Link"),r.a.createElement("div",{className:"hidden content"},r.a.createElement("i",{className:"sign-in icon"})))),r.a.createElement("div",{className:"ui bottom attached message"},r.a.createElement(l.b,{to:"/login"},"Back to Login")))))))})),le=Object(i.b)((function(e){return{auth:e.auth}}),{setAlert:I,resetPassword:function(e,t,a){return function(){var n=Object(R.a)(C.a.mark((function n(r){var c,s,l;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c={headers:{"Content-Type":"application/json"}},n.next=4,P.a.put("/users/reset-password/".concat(t),e,c);case 4:s=n.sent,console.log(s.data),a.push("/password-updated"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),(l=n.t0.response.data.errors)&&r(I(l.msg,"error"));case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.auth,a=e.setAlert,c=e.resetPassword,s=e.history,l=e.match,i=Object(n.useState)({password:"",password2:""}),u=Object(B.a)(i,2),m=u[0],d=u[1],p=m.password,f=m.password2,E=function(e){return d(Object(v.a)(Object(v.a)({},m),{},Object(re.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(R.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),p!==f?a("Passwords do not match","error"):c({user:{newPassword:p}},l.params.token,s);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!t.loading&&t.isAuthenticated&&t.user&&t.user.verified?r.a.createElement(o.a,{to:"/home"}):!t.loading&&t.isAuthenticated&&t.user&&!t.user.verified?r.a.createElement(o.a,{to:"/verification"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"ui container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"form-center"},r.a.createElement("h1",{className:"large white-text center-text"},"Reset Password"),r.a.createElement("form",{className:"ui form",onSubmit:b},r.a.createElement("div",{className:"ui raised segment"},r.a.createElement("h3",{className:"ui dividing header"}," Reset your password"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"New Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"New password",value:p,onChange:function(e){return E(e)},required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}",title:"Password must contain at least one number and one uppercase and lowercase letter, and at least 6 or more characters"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Confirm New Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Confirm new password",value:f,onChange:function(e){return E(e)},required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}",title:"Password must contain at least one number and one uppercase and lowercase letter, and at least 6 or more characters"}))),r.a.createElement("button",{type:"submit",className:"ui vertical animated fluid large submit button red-button"},r.a.createElement("div",{className:"visible content"},"Reset Password"),r.a.createElement("div",{className:"hidden content"},r.a.createElement("i",{className:"sign-in icon"})))))))))})),oe=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"center-page",style:{textAlign:"center"}},r.a.createElement("i",{className:"ui icon lock massive",style:{color:"white"}}),r.a.createElement("h1",{className:"large white-text"},"Password Updated!"),r.a.createElement("div",{className:"ui center-text white-text"},r.a.createElement("div",{className:"ui  message"},r.a.createElement(l.b,{to:"/login"},"Back to Login"))))))},ie=Object(i.b)((function(e){return{auth:e.auth}}),{login:function(e,t){return function(){var a=Object(R.a)(C.a.mark((function a(n){var r,c,s,l;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,P.a.post("/users/login",c,r);case 5:s=a.sent,n({type:"LOGIN_SUCCESS",payload:s.data}),n(L()),n(U()),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(2),(l=a.t0.response.data.errors)&&n(I(l.msg,"error")),n({type:"LOGIN_FAIL"});case 16:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.auth,c=Object(n.useState)({email:"",password:""}),s=Object(B.a)(c,2),i=s[0],u=s[1],m=i.email,d=i.password,p=function(e){return u(Object(v.a)(Object(v.a)({},i),{},Object(re.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(R.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(m,d);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!a.loading&&a.isAuthenticated&&a.user&&a.user.verified?r.a.createElement(o.a,{to:"/home"}):!a.loading&&a.isAuthenticated&&a.user&&!a.user.verified?r.a.createElement(o.a,{to:"/verification"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"ui container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"form-center"},r.a.createElement("h1",{className:"large white-text center-text"},"Welcome back!"),r.a.createElement("form",{className:"ui form",onSubmit:f},r.a.createElement("div",{className:"ui raised segment"},r.a.createElement("h3",{className:"ui dividing header"}," Login to Your Account"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Email"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"envelope icon"}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email address",value:m,onChange:function(e){return p(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:d,onChange:function(e){return p(e)},required:!0}))),r.a.createElement("button",{type:"submit",className:"ui vertical animated fluid large submit button red-button"},r.a.createElement("div",{className:"visible content"},"Login"),r.a.createElement("div",{className:"hidden content"},r.a.createElement("i",{className:"sign-in icon"})))),r.a.createElement("div",{className:"ui bottom attached message center-mobile"},"New to us? ",r.a.createElement(l.b,{to:"/register"},"Register"),r.a.createElement(l.b,{className:"float-mobile",to:"/forgot-password"},"Forgot Password?")))))))})),ue=Object(i.b)((function(e){return{auth:e.auth}}),{setAlert:I,register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(R.a)(C.a.mark((function e(r){var c,s,l,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,P.a.post("/users/register",s,c);case 5:l=e.sent,r({type:"REGISTER_SUCCESS",payload:l.data}),r(L()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(o=e.t0.response.data.errors)&&r(I(o.msg,"error")),r({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,a=e.register,c=e.auth,s=Object(n.useState)({name:"",email:"",password:"",password2:""}),i=Object(B.a)(s,2),u=i[0],m=i[1],d=u.name,p=u.email,f=u.password,E=u.password2,b=function(e){return m(Object(v.a)(Object(v.a)({},u),{},Object(re.a)({},e.target.name,e.target.value)))},g=function(){var e=Object(R.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),f!==E?t("Passwords do not match","error"):a({name:d,email:p,password:f});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!c.loading&&c.isAuthenticated&&c.user&&!c.user.verified?r.a.createElement(o.a,{to:"/verification"}):!c.loading&&c.isAuthenticated&&c.user&&c.user.verified?r.a.createElement(o.a,{to:"/home"}):r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"ui container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"form-center"},r.a.createElement("h1",{className:"large white-text center-text"},"Get Started!"),r.a.createElement("form",{className:"ui form",onSubmit:function(e){return g(e)}},r.a.createElement("div",{className:"ui raised segment"},r.a.createElement("h3",{className:"ui dividing header"}," Create an Account"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Name"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"user icon"}),r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:d,onChange:function(e){return b(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Email"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"envelope icon"}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email address",value:p,onChange:function(e){return b(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:f,onChange:function(e){return b(e)},required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}",title:"Password must contain at least one number and one uppercase and lowercase letter, and at least 6 or more characters"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Confirm Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Confirm password",value:E,onChange:function(e){return b(e)},required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}",title:"Password must contain at least one number and one uppercase and lowercase letter, and at least 6 or more characters"}))),r.a.createElement("button",{type:"submit",name:"submit",className:"ui vertical animated fluid large submit button red-button"},r.a.createElement("div",{className:"visible content"},"Register"),r.a.createElement("div",{className:"hidden content"},r.a.createElement("i",{className:"signup icon"})))),r.a.createElement("div",{className:"ui message"},"Already have an account? ",r.a.createElement(l.b,{to:"/login"},"Log In"))))))})),me=a(46),de=a.n(me),pe=function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},t.next=4,P.a.post("/requests/add",e,n);case 4:r=t.sent,a({type:"ADD_REQUEST",payload:r.data}),a(I("Request successfully sent to Ladybug Admin","success")),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),(c=t.t0.response.data.errors)&&a(I(c.msg,"error")),a({type:"REQUEST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 15:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(R.a)(C.a.mark((function a(n){var r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.delete("/requests/delete/".concat(e));case 3:r=a.sent,n({type:"DELETE_REQUEST",payload:e}),t||n(I(r.data,"success")),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.response.data.errors.msg),n({type:"REQUEST_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Ee=function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/modules");case 3:a=e.sent,t({type:"GET_MODULES",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"MODULES_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ve=function(e,t){return function(){var a=Object(R.a)(C.a.mark((function a(n){var r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.put("/users/follow/".concat(e));case 3:r=a.sent,n({type:"UPDATE_FOLLOWERS",payload:{id:e,followers:r.data}}),n(I("Followed ".concat(t),"success")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"MODULE_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},be=function(e,t){return function(){var a=Object(R.a)(C.a.mark((function a(n){var r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.put("/users/unfollow/".concat(e));case 3:r=a.sent,n({type:"UPDATE_FOLLOWERS",payload:{id:e,followers:r.data}}),n(I("Unfollowed ".concat(t),"success")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"MODULE_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({uniId:e}),t.next=5,P.a.get("/users/modules/",r,n);case 5:c=t.sent,a({type:"GET_FOLLOWEDMODULES",payload:c.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"MODULE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},he=Object(i.b)((function(e){return{module:e.module}}),{getModules:Ee})((function(e){var t,a=e.followedModules,c=e.selectedModule,s=e.setSelectedModule,o=e.getModules,i=e.module,u=i.modules,m=i.loading,d=Object(n.useState)(c),p=Object(B.a)(d,2),f=p[0],E=p[1];return Object(n.useEffect)((function(){o(),E(a.length>0?a[0].modules[0]._id:null),s(a.length>0?a[0].modules[0]._id:null)}),[o,m,a.length]),Object(n.useEffect)((function(){E(c)}),[c]),t=de.a.mapValues(de.a.keyBy(u,"_id")),r.a.createElement(n.Fragment,null,!m&&t&&a&&u&&r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"red-text"},"Your interest."),a.length>0?r.a.createElement("div",{className:"ui vertical fluid tabular menu"},null===f&&E(a[0].modules[0])&&s(a[0].modules[0]),a.map((function(e){return r.a.createElement("div",{key:e._id},e.modules.length>0&&r.a.createElement("div",{className:"item header"},"".concat(e.name)),e.modules.length>0&&e.modules.map((function(e){return r.a.createElement("a",{className:"".concat(f===e._id?"active":""," item"),key:e._id,onClick:function(){E(e._id),s(e._id)}},"".concat(e.name))})))}))):r.a.createElement("div",null,"You have not followed any modules",r.a.createElement("div",{className:"ui hidden divider"})),r.a.createElement(l.b,{to:"/explore",className:"ui button"},r.a.createElement("i",{className:"icon plus"}),"Add more modules")))})),Ne=function(e){return r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active",style:{position:"fixed"}},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active",style:{position:"flexible"}},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"scrolling content"},e.content),r.a.createElement("div",{className:"actions"},e.actions)))},ye=function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,P.a.post("/posts/add",e,n);case 4:r=t.sent,a({type:"ADD_POST",payload:r.data}),a(I("Post Created","success")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Oe=Object(i.b)(null,{updatePost:function(e,t){return function(){var a=Object(R.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,P.a.post("/posts/edit/".concat(t),e,r);case 4:c=a.sent,n({type:"UPDATE_POST",payload:{post:c.data,id:t}}),n(I("Post Updated","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:f,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.updatePost,a=e.setShowing,c=e.post,s=Object(n.useState)({title:c.title,text:c.text}),l=Object(B.a)(s,2),o=l[0],i=l[1],u=o.title,m=o.text,d=function(){a(!1)},p=function(e){return i(Object(v.a)(Object(v.a)({},o),{},Object(re.a)({},e.target.name,e.target.value)))},f=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Update"),r.a.createElement("button",{onClick:d,className:"ui button"},"Cancel")),E=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),t({post:o},c._id),d()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Category"),r.a.createElement("div",{className:"ui input"},"".concat(c.uniAcronym)," - ","".concat(c.moduleName))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Summary"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"title",value:u,onChange:function(e){return p(e)},placeholder:"Write one sentence summary",required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Content"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"text",value:m,onChange:function(e){return p(e)},placeholder:"Write details for the question",required:!0}))));return r.a.createElement(Ne,{onDismiss:d,title:"Update Post",content:E,actions:f})})),je=function(e){return r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active",style:{position:"fixed"}},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui small modal visible active",style:{position:"flexible"}},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"scrolling content"},e.content),r.a.createElement("div",{className:"actions"},e.actions)))},we=Object(i.b)((function(e){return{auth:e.auth}}),{deletePost:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.delete("/posts/delete/".concat(e));case 3:a({type:"DELETE_POST",payload:e}),a(I("Post Removed","success")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},upvotePost:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.put("/posts/upvote/".concat(e));case 3:n=t.sent,a({type:"UPDATE_VOTES",payload:{id:e,upvote:n.data.upvote,downvote:n.data.downvote}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response.data),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},downvotePost:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.put("/posts/downvote/".concat(e));case 3:n=t.sent,a({type:"UPDATE_VOTES",payload:{id:e,upvote:n.data.upvote,downvote:n.data.downvote}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},savePost:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.put("/posts/save/".concat(e));case 3:n=t.sent,a({type:"SAVE_POST",payload:n.data}),a(I("Post saved","success")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),(r=t.t0.response.data.errors)&&a(I(r.msg,"error"));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},unsavePost:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.put("/posts/unsave/".concat(e));case 3:n=t.sent,a({type:"UNSAVE_POST",payload:Object(v.a)(Object(v.a)({},n.data),{},{id:e})}),a(I("Post unsaved","success")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),(r=t.t0.response.data.errors)&&a(I(r.msg,"error"));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.post,a=e.auth,c=e.deletePost,s=e.upvotePost,o=e.downvotePost,i=e.savePost,u=e.unsavePost,m=t._id,d=t.moduleName,p=t.authorName,f=t.author,E=t.date,v=t.title,b=t.text,g=t.upvote,h=t.downvote,N=t.comments,y=t.uniAcronym,O=Object(n.useState)(null),j=Object(B.a)(O,2),w=j[0],x=j[1];Object(n.useEffect)((function(){P.a.get("/profiles/".concat(f)).then((function(e){return x(e.data.avatar)}))}),[]);var k=Object(n.useState)(!1),S=Object(B.a)(k,2),_=S[0],C=S[1],R=Object(n.useState)(!1),T=Object(B.a)(R,2),D=T[0],I=T[1],M=function(){I(!1)},U=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return c(m)},className:"ui button red-button"},"Yes"),r.a.createElement("button",{onClick:M,className:"ui button"},"Cancel"));return w&&r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"ui top attached label red-label"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"ui four wide column"},r.a.createElement(l.b,{to:"/".concat(y,"/").concat(d),style:{color:"inherit"}},"".concat(d))),r.a.createElement("div",{className:"ui right floated twelve wide column right-text"},r.a.createElement(W.a,{fromNow:!0},E)))),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"ui three wide column"},r.a.createElement("img",{className:"ui tiny circular centered image",src:w,alt:""}),a.loading||a.user._id!==f?r.a.createElement(l.b,{to:"/profile/".concat(f),className:"center-text padding-text"},r.a.createElement("h4",null,"".concat(p))):r.a.createElement(l.b,{to:"/profile/me",className:"center-text padding-text"},r.a.createElement("h4",null,"".concat(p)))),r.a.createElement("div",{className:"ui thirteen wide column"},r.a.createElement("h3",null,"".concat(v)),r.a.createElement("p",{style:{wordWrap:"break-word"}},"".concat(b)),!a.loading&&a.user&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui labeled small button",tabIndex:"0"},r.a.createElement("button",{onClick:function(){return s(m)},className:"ui icon small button ".concat(-1===g.indexOf(a.user._id)?"":"red-button")},r.a.createElement("i",{className:"thumbs up icon"})),r.a.createElement("div",{className:"ui basic label"},"".concat(g.length))),r.a.createElement("div",{className:"ui labeled small button",tabIndex:"0"},r.a.createElement("button",{onClick:function(){return o(m)},className:"ui icon small button ".concat(-1===h.indexOf(a.user._id)?"":"red-button")},r.a.createElement("i",{className:"thumbs down icon"})),r.a.createElement("div",{className:"ui basic label"},"".concat(h.length)))),r.a.createElement("div",{className:"ui labeled small button",tabIndex:"0"},r.a.createElement(l.b,{to:"/".concat(y,"/").concat(d,"/").concat(m),target:"_blank",rel:"noopener noreferrer",className:"ui icon small button"},r.a.createElement("i",{className:"conversation icon"})),r.a.createElement("div",{className:"ui basic label"},"".concat(N.length))),!a.loading&&a.user&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return a.user.saved&&a.user.saved.indexOf(m)>-1?u(m):i(m)},className:"ui icon small button ".concat(a.user.saved&&a.user.saved.indexOf(m)>-1?"red-button":"")},r.a.createElement("i",{className:"ui icon bookmark"}))),!a.loading&&f===a.user._id&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return C(!0)},className:"ui right floated icon small button"},r.a.createElement("i",{className:"ui icon pencil"})),r.a.createElement("button",{onClick:function(){return I(!0)},className:"ui right floated icon small button"},r.a.createElement("i",{className:"ui icon trash"}))))),_&&r.a.createElement(Oe,{setShowing:C,post:t}),D&&r.a.createElement(je,{onDismiss:M,title:"Delete Post",content:"Are you sure you want to delete this post?",actions:U}))})),xe=Object(i.b)((function(e){return{auth:e.auth}}),{followModule:ve,unfollowModule:be})((function(e){var t=e.module,a=t._id,c=t.name,s=t.title,o=t.description,i=t.followers,u=t.uniAcronym,m=e.auth.user,d=e.followModule,p=e.unfollowModule,f=Object(n.useState)(i&&-1!==i.indexOf(m._id)?"minus":"plus"),E=Object(B.a)(f,2),v=E[0],b=E[1];return r.a.createElement("div",{className:"ui card",style:{display:"flex"}},r.a.createElement("div",{className:"ui slide masked reveal image"},r.a.createElement("div",{className:"visible content module-picture"},r.a.createElement("i",{className:"code huge icon center-position"})),r.a.createElement("div",{className:"hidden content"},r.a.createElement("p",{className:"module-padding"},"".concat(o)))),r.a.createElement("div",{className:"content"},r.a.createElement(l.b,{to:"/".concat(u,"/").concat(c),className:"header"},"".concat(c)),r.a.createElement("div",{className:"meta"},r.a.createElement("span",{className:"date"},"".concat(s)))),r.a.createElement("div",{className:"extra content"},r.a.createElement("i",{className:"users icon"}),"".concat(i.length)," Followers",r.a.createElement("button",{className:"invisible-button right floated"},r.a.createElement("i",{onClick:function(){"plus"===v?(b("minus"),d(a,c)):(b("plus"),p(a,c))},className:"".concat(v," red-text square outline icon")}))))})),ke=Object(i.b)((function(e){return{post:e.post,module:e.module}}),{getPostsRecommendations:function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/posts/recommendations");case 3:a=e.sent,t({type:"GET_POSTS_RECOMMENDATIONS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:f,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getModulesRecommendations:function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/modules/recommendations");case 3:a=e.sent,t({type:"GET_MODULES_RECOMMENDATIONS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"MODULES_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getModulesRecommendations,a=e.getPostsRecommendations,c=e.post,s=c.recommendedPosts,l=c.loading,o=e.module.recommendedModules;return Object(n.useEffect)((function(){a(),t()}),[t,a]),r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"Recommended Posts"),!l&&s&&o&&s.length>0&&s.map((function(e,t){return e&&r.a.createElement(n.Fragment,{key:e._id},r.a.createElement(we,{post:e}),0===t&&o.length>0&&r.a.createElement("div",{className:"ui segment"},r.a.createElement("p",null,"Discover New Modules"),r.a.createElement("div",{className:"ui three doubling cards"},o.map((function(e){return r.a.createElement(xe,{module:e,key:e._id})})))))})))})),Se=function(e){var t=e.setShowing,a=e.name;return r.a.createElement("div",{className:"ui segment"},r.a.createElement("button",{onClick:function(){return t(!0)},className:"ui button fluid basic left-text"},r.a.createElement("i",{className:"edit icon"}),"What bugs you, ".concat(a,"?")))},_e=Object(i.b)((function(e){return{module:e.module,user:e.auth.user}}),{getFollowedModules:ge,addPost:ye})((function(e){var t=e.addPost,a=e.setShowing,c=e.setSelectedModule,s=e.getFollowedModules,l=e.module,o=l.followedModules,i=l.loading,u=e.user;Object(n.useEffect)((function(){s()}),[s]);var m=Object(n.useState)({title:"",text:"",author:"".concat(u._id),module:""}),d=Object(B.a)(m,2),p=d[0],f=d[1],E=p.title,b=p.text,g=(p.author,p.module),h=function(){a(!1)},N=function(e){return f(Object(v.a)(Object(v.a)({},p),{},Object(re.a)({},e.target.name,e.target.value)))},y=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Post"),r.a.createElement("button",{onClick:h,className:"ui button"},"Cancel")),O=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),t({post:p}),c(p.module),h()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Category"),r.a.createElement("select",{name:"module",value:g,onChange:function(e){return N(e)},className:"ui selection dropdown"},r.a.createElement("option",{value:""},"Select Post Category"),o.length>0&&o.map((function(e){return e.modules.map((function(t){return r.a.createElement("option",{key:t._id,value:"".concat(t._id)},"".concat(e.acronym," - ").concat(t.name))}))})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Summary"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"title",value:E,onChange:function(e){return N(e)},placeholder:"Write one sentence summary"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Content"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"text",value:b,onChange:function(e){return N(e)},placeholder:"Write details for the question"}))));return!i&&o&&u&&r.a.createElement(Ne,{onDismiss:h,title:"Create a Post",content:O,actions:y})})),Ce=a(395),Re=Object(i.b)((function(e){return{post:e.post}}),{getPostsFromModule:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/modules/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POSTS_FROM_MODULE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getMostRecentPosts:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/filters/most-recent/".concat(e));case 3:n=t.sent,a({type:"GET_MOST_RECENT_POSTS",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getMostLikedPosts:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/filters/most-liked/".concat(e));case 3:n=t.sent,a({type:"GET_MOST_LIKED_POSTS",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getMostDiscussedPosts:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/filters/most-discussed/".concat(e));case 3:n=t.sent,a({type:"GET_MOST_DISCUSSED_POSTS",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.moduleId,a=(e.getPostsFromModule,e.getMostRecentPosts),c=e.getMostLikedPosts,s=e.getMostDiscussedPosts,l=e.post,o=l.posts,i=l.loading,u=Object(n.useState)("most-recent"),m=Object(B.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)((function(){"most-recent"===d?a(t):"most-liked"===d?c(t):"most-discussed"===d&&s(t)}),[i,t,o.length,d]);var f=[{key:"Most Recent",text:"Most Recent",value:"most-recent"},{key:"Most Liked",text:"Most Liked",value:"most-liked"},{key:"Most Discussed",text:"Most Discussed",value:"most-discussed"}];return r.a.createElement(n.Fragment,null,r.a.createElement("span",null,"Show posts by"," ",r.a.createElement(Ce.a,{inline:!0,options:f,defaultValue:f[0].value,onChange:function(e,t){p(t.value),console.log(t.value)}})),!i&&o.length>0&&o[0].module===t&&o.map((function(e){return r.a.createElement(we,{post:e,key:e._id})})))})),Te=Object(i.b)((function(e){return{module:e.module,user:e.auth.user}}),{getFollowedModules:ge})((function(e){var t=e.user,a=e.getFollowedModules,c=e.module,s=c.followedModules,l=c.loading;Object(n.useEffect)((function(){a()}),[a,s.length]);var o=Object(n.useState)(!1),i=Object(B.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(null),p=Object(B.a)(d,2),f=p[0],E=p[1];return r.a.createElement(n.Fragment,null,t&&!l&&r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"four wide column"},r.a.createElement(he,{followedModules:s,setSelectedModule:E,selectedModule:f})),r.a.createElement("div",{className:"twelve wide column"},r.a.createElement(Se,{setShowing:m,name:t.name}),s.length>0&&f&&r.a.createElement(Re,{moduleId:f}),0===s.length&&r.a.createElement(ke,null)))),u&&r.a.createElement(_e,{setShowing:m,setSelectedModule:E})))})),Pe=Object(i.b)(null,{addUniModule:function(e,t){return function(){var a=Object(R.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={headers:{"Content-Type":"application/json"}},a.next=4,P.a.post("/categories/create",e,r);case 4:c=a.sent,n(I(c.data,"success")),n(fe(t,!0)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.response.data.errors),n({type:"MODULE_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},addModule:function(e,t){return function(){var a=Object(R.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={headers:{"Content-Type":"application/json"}},a.next=4,P.a.post("/modules/add",e,r);case 4:c=a.sent,n(I(c.data,"success")),n(fe(t,!0)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.response.data.errors),n({type:"MODULE_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.setFormShowing,a=e.request,c=e.addUniModule,s=e.addModule,l=Object(n.useState)(null),o=Object(B.a)(l,2),i=o[0],u=o[1],m=Object(n.useState)(1),d=Object(B.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)({university:{name:a.university,acronym:"",overview:"",website:"",logo:""},module:{name:a.module,title:"",description:"",university:""},request:a._id}),b=Object(B.a)(E,2),g=b[0],h=b[1];Object(n.useEffect)((function(){P.a.get("/universities/name/".concat(N.name)).then((function(e){var t=e.data;h(Object(v.a)(Object(v.a)({},g),{},{university:Object(v.a)(Object(v.a)({},N),{},{acronym:t?t.acronym:"",overview:t?t.overview:"",website:t?t.website:"",logo:t?t.logo:""}),module:Object(v.a)(Object(v.a)({},y),{},{university:t._id})})),u(t||null)}))}),[]);var N=g.university,y=g.module,O=function(e){return h(Object(v.a)(Object(v.a)({},g),{},{university:Object(v.a)(Object(v.a)({},N),{},Object(re.a)({},e.target.name,e.target.value))}))},j=function(){t(!1)},w=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",onSubmit:function(e){return e.preventDefault()},onClick:function(){return f(2)},className:"ui button red-button"},"Next"),r.a.createElement("button",{onClick:j,className:"ui button"},"Cancel")),x=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return f(1)},className:"ui button",style:{float:"left"}},"Previous"),r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Add Module"),r.a.createElement("button",{onClick:j,className:"ui button"},"Cancel")),k=r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"University Name"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"name",placeholder:"University Name",value:N.name,onChange:function(e){return O(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"University Acronym"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"acronym",placeholder:"University Acronym",value:N.acronym,onChange:function(e){return O(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Overview"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{type:"text",name:"overview",placeholder:"Overview",value:N.overview,onChange:function(e){return O(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Website"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"website",placeholder:"Website",value:N.website,onChange:function(e){return O(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Logo"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"logo",placeholder:"Logo URL",value:N.logo,onChange:function(e){return O(e)},required:!0})))),S=r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Module Code"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"moduleName",placeholder:"Module Code",value:y.name,onChange:function(e){return h(Object(v.a)(Object(v.a)({},g),{},{module:Object(v.a)(Object(v.a)({},y),{},{name:e.target.value})}))},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Module Name"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"title",placeholder:"Module Name",value:y.title,onChange:function(e){return h(Object(v.a)(Object(v.a)({},g),{},{module:Object(v.a)(Object(v.a)({},y),{},{title:e.target.value})}))},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Description"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{type:"text",name:"description",placeholder:"Description",value:y.description,onChange:function(e){return h(Object(v.a)(Object(v.a)({},g),{},{module:Object(v.a)(Object(v.a)({},y),{},{description:e.target.value})}))},required:!0}))));return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(Ne,{onDismiss:j,title:1==p?"University Details":"Module Details",content:r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){if(e.preventDefault(),i){var t={module:y,request:a._id};s(t,a._id)}else c(g,a._id)}(e)}},1==p?k:S),actions:1==p?w:x})))})),De=Object(i.b)(null,{deleteRequest:fe})((function(e){var t=e.request,a=e.deleteRequest,c=Object(n.useState)(!1),s=Object(B.a)(c,2),l=s[0],o=s[1],i=Object(n.useState)(!1),u=Object(B.a)(i,2),m=u[0],d=u[1],p=function(){d(!1)},f=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return a(t._id)},className:"ui button red-button"},"Yes"),r.a.createElement("button",{onClick:p,className:"ui button"},"Cancel"));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},t.module),r.a.createElement("div",{className:"meta"},t.university),r.a.createElement("div",{className:"description"},t.counter.length," users requested this module")),r.a.createElement("div",{className:"extra content"},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement("div",{onClick:function(){return o(!0)},className:"ui basic green button"},"Approve"),r.a.createElement("div",{onClick:function(){return d(!0)},className:"ui basic red button"},"Decline")))),l&&r.a.createElement(Pe,{setFormShowing:o,request:t}),m&&r.a.createElement(je,{onDismiss:p,title:"Decline Request",content:"Are you sure you want to decline this request?",actions:f}))})),Ie=Object(i.b)((function(e){return{request:e.request}}),{getRequests:function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/requests");case 3:a=e.sent,t({type:"GET_REQUESTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"REQUEST_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getRequests,a=e.request,c=a.requests,s=a.loading;return Object(n.useEffect)((function(){t()}),[]),s?r.a.createElement("div",{className:"ui active centered loader"}):r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("h1",{className:"red-text"},"Module Requests"),r.a.createElement("div",{className:"ui three doubling cards"},c.length>0&&c.map((function(e){return r.a.createElement(De,{request:e,key:e._id})}))))))})),Me=Object(i.b)((function(e){return{auth:e.auth}}),{addPost:ye})((function(e){var t=e.addPost,a=e.setShowing,c=e.auth,s=c.user,l=c.loading,o=e.module,i=o.name,u=o._id,m=o.acronym,d=Object(n.useState)({title:"",text:"",author:"".concat(s._id),module:"".concat(u)}),p=Object(B.a)(d,2),f=p[0],E=p[1],b=f.title,g=f.text,h=(f.author,f.module),N=function(){a(!1)},y=function(e){return E(Object(v.a)(Object(v.a)({},f),{},Object(re.a)({},e.target.name,e.target.value)))},O=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Post"),r.a.createElement("button",{onClick:N,className:"ui button"},"Cancel")),j=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),t({post:f}),N()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Category"),r.a.createElement("div",{className:"ui input"},"".concat(m)," - ","".concat(i))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Summary"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"title",value:b,onChange:function(e){return y(e)},placeholder:"Write one sentence summary"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Content"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"text",value:g,onChange:function(e){return y(e)},placeholder:"Write details for the question"}))));return!l&&s&&h&&r.a.createElement(Ne,{onDismiss:N,title:"Create a Post",content:j,actions:O})})),Ue=function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/universities/".concat(e));case 3:n=t.sent,a({type:"GET_UNIVERSITY",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"UNIVERSITY_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Ae=Object(i.b)((function(e){return{module:e.module,university:e.university,auth:e.auth}}),{getUniversity:Ue,getModuleByName:function(e,t){return function(){var a=Object(R.a)(C.a.mark((function a(n){var r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.get("/universities/modules/".concat(e,"/").concat(t));case 3:r=a.sent,n({type:"GET_MODULE",payload:r.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),n({type:"MODULE_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},unfollowModule:be,followModule:ve})((function(e){var t=e.match,a=e.getModuleByName,c=e.getUniversity,s=e.followModule,o=e.unfollowModule,i=e.module,u=i.module,m=i.loading,d=e.university,p=e.auth,f=d.loading,E=d.university,v=p.loading,b=p.user;Object(n.useEffect)((function(){c(t.params.uni),a(t.params.uni,t.params.module)}),[a,c]);var g=Object(n.useState)(null),h=Object(B.a)(g,2),N=h[0],y=h[1],O=Object(n.useState)(!1),j=Object(B.a)(O,2),w=j[0],x=j[1],k=Object(n.useState)(!0),S=Object(B.a)(k,2),_=S[0],C=S[1],R=Object(n.useState)(!1),T=Object(B.a)(R,2),P=T[0],D=T[1],I=!f&&!m&&E&&u&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui segment red-segment center-text"},r.a.createElement("h1",{className:"x-large"},"".concat(u.name)),r.a.createElement("div",{className:"lead"},"".concat(u.title))),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"four wide column remove-padding"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"ui one statistics"},r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"value"},"".concat(u.followers.length)),r.a.createElement("div",{className:"label"},"Followers"))),r.a.createElement("div",{className:"ui divider"}),r.a.createElement("div",{className:"ui one statistics"},r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"value"},"".concat(u.posts.length)),r.a.createElement("div",{className:"label"},"Posts"))))),r.a.createElement("div",{className:"twelve wide column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h3",null,"University:"),r.a.createElement(l.b,{to:"/".concat(t.params.uni)},r.a.createElement("p",null,"".concat(E.name))),r.a.createElement("h3",null,"Module description:"),r.a.createElement("p",null,"".concat(u.description)))))),M=!m&&u&&!v&&b&&r.a.createElement(n.Fragment,null,r.a.createElement(Se,{setShowing:x,name:b.name}),r.a.createElement(Re,{moduleId:u._id}));return m||!u||v||!b||f||!E||u.name!=t.params.module?r.a.createElement("div",{className:"ui centered active loader"}):r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(ce,null),p&&!m&&u&&null===N&&y(-1===u.followers.indexOf(p.user._id)?"plus":"minus"),!f&&!m&&E&&u&&r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement("h1",{className:"red-text"},"Welcome to ","".concat(u.name),"!")),r.a.createElement("div",{className:"eight wide right aligned column"},r.a.createElement("button",{onClick:function(){"plus"===N?(y("minus"),s(u._id,u.name)):(y("plus"),o(u._id,u.name))},className:"ui button red-button"},r.a.createElement("i",{className:"ui icon ".concat(N)}),"plus"===N?"Follow":"Unfollow"," ","".concat(u.name)))),r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement("a",{onClick:function(){C(!0),D(!1)},className:"item ".concat(_?"active":"")},"Overview"),r.a.createElement("a",{onClick:function(){C(!1),D(!0)},className:"item ".concat(P?"active":"")},"Posts")),r.a.createElement("div",{className:""},_?I:M)))),w&&r.a.createElement(Me,{setShowing:x,module:u}))})),Le=Object(i.b)((function(e){return{auth:e.auth}}),{deleteComment:function(e,t){return function(){var a=Object(R.a)(C.a.mark((function a(n){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.a.delete("/posts/".concat(e,"/").concat(t));case 3:a.sent,n({type:"REMOVE_COMMENT",payload:t}),n(I("Comment Removed","success")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:f,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.postId,a=e.comment,c=a._id,s=a.text,o=a.authorName,i=a.author,u=a.date,m=e.auth,d=e.deleteComment,p=Object(n.useState)(null),f=Object(B.a)(p,2),E=f[0],v=f[1];Object(n.useEffect)((function(){P.a.get("/profiles/".concat(i)).then((function(e){return v(e.data.avatar)}))}),[]);var b=Object(n.useState)(!1),g=Object(B.a)(b,2),h=g[0],N=g[1],y=function(){N(!1)},O=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return d(t,c)},className:"ui button red-button"},"Yes"),r.a.createElement("button",{onClick:y,className:"ui button"},"Cancel"));return E&&r.a.createElement("div",{className:"ui clearing segment"},r.a.createElement("div",{className:"comment"},r.a.createElement("a",{className:"avatar"},r.a.createElement("img",{src:E})),r.a.createElement("div",{className:"content"},m.loading||m.user._id!==i?r.a.createElement(l.b,{to:"/profile/".concat(i),className:"author"},o):r.a.createElement(l.b,{to:"/profile/me",className:"author"},o),r.a.createElement("div",{className:"metadata"},r.a.createElement("span",{className:"date"},r.a.createElement(W.a,{fromNow:!0},u))),r.a.createElement("div",{className:"text"},s)),!m.loading&&i===m.user._id&&r.a.createElement("button",{onClick:function(){return N(!0)},className:"ui right floated icon mini button"},r.a.createElement("i",{className:"ui icon trash"}))),h&&r.a.createElement(je,{onDismiss:y,title:"Delete Comment",content:"Are you sure you want to delete this comment?",actions:O}))})),Fe=Object(i.b)(null,{addComment:function(e,t){return function(){var a=Object(R.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,P.a.put("/posts/comment/".concat(e),t,r);case 4:c=a.sent,n({type:"ADD_COMMENT",payload:c.data}),n(I("Comment Added","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:f,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.postId,a=e.addComment,c=Object(n.useState)(""),s=Object(B.a)(c,2),l=s[0],o=s[1];return r.a.createElement("form",{className:"ui reply form",onSubmit:function(e){e.preventDefault(),a(t,{text:l}),o("")}},r.a.createElement("div",{className:"field"},r.a.createElement("textarea",{name:"text",placeholder:"Add comment...",value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"ui red-button labeled submit icon button"},r.a.createElement("i",{className:"icon edit"})," Add Reply"))})),qe=Object(i.b)((function(e){return{post:e.post,module:e.module,auth:e.auth}}),{getPost:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POST",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getModule:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/modules/".concat(e));case 3:n=t.sent,a({type:"GET_MODULE",payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),a({type:"MODULE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},followModule:ve,unfollowModule:be})((function(e){var t=e.getPost,a=e.getModule,c=e.followModule,s=e.unfollowModule,l=e.post,o=l.post,i=l.loading,u=e.module,m=e.match,d=e.auth;Object(n.useEffect)((function(){t(m.params.id)}),[t]),Object(n.useEffect)((function(){o&&a(o.module)}),[a,o]);var p=Object(n.useState)(null),f=Object(B.a)(p,2),E=f[0],v=f[1];return r.a.createElement("div",{className:"container-body"},r.a.createElement(ce,null),d&&!u.loading&&u.module&&null===E&&v(-1===u.module.followers.indexOf(d.user._id)?"plus":"minus"),!i&&o&&d&&!u.loading&&u.module&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement("button",{onClick:function(){"plus"===E?(v("minus"),c(o.module,o.moduleName)):(v("plus"),s(o.module,o.moduleName))},className:"ui button red-button"},r.a.createElement("i",{className:"ui icon ".concat(E)}),"plus"===E?"Follow":"Unfollow"," ","".concat(o.moduleName)),r.a.createElement(we,{post:o}),r.a.createElement("div",{className:"ui comments"},r.a.createElement("h3",{className:"ui dividing header"},"Comments"),o.comments.map((function(e){return r.a.createElement(Le,{key:e._id,comment:e,postId:o._id})})),r.a.createElement(Fe,{postId:o._id}))))))})),Ge=Object(i.b)((function(e){return{post:e.post}}),{getSavedPosts:function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/posts/saved");case 3:a=e.sent,t({type:"GET_SAVED_POSTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:f,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.post,a=t.savedPosts,c=t.loading,s=e.getSavedPosts;return Object(n.useEffect)((function(){s()}),[]),r.a.createElement("div",{className:"container-body"},r.a.createElement(ce,null),c?r.a.createElement("div",{className:"ui centered active loader"}):r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement("h1",{className:"red-text"},"Saved posts"),a.length>0?a.map((function(e){return r.a.createElement(we,{key:e._id,post:e})})):r.a.createElement("h4",null,"You have no saved posts"))))})),Ye=function(e){return r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active",style:{position:"fixed"}},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active",style:{position:"flexible"}},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"content"},e.content),r.a.createElement("div",{className:"actions"},e.actions)))},Be=Object(i.b)(null,{addRequest:pe})((function(e){var t=e.setShowing,a=e.addRequest,c=Object(n.useState)(null),s=Object(B.a)(c,2),l=s[0],o=s[1],i=Object(n.useState)([]),u=Object(B.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)({university:"",module:""}),f=Object(B.a)(p,2),E=f[0],b=f[1],g=(E.university,E.module),h=function(){t(!1)};Object(n.useEffect)((function(){if(l){l.toLowerCase();var e="assets/university/".concat(l,".json");P.a.get(e).then((function(e){return d(e.data)}))}}),[l]);var N=de.a.uniqBy(m,"name").map((function(e){return Object(v.a)(Object(v.a)({},e),{},{text:e.name,key:e.name,value:e.name})})),y=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),a(E),h()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Country"),r.a.createElement(Ce.a,{placeholder:"Select Country",fluid:!0,search:!0,selection:!0,options:[{key:"au",value:"australia",flag:"au",text:"Australia"},{key:"ca",value:"canada",flag:"ca",text:"Canada"},{key:"cn",value:"china",flag:"cn",text:"China"},{key:"dk",value:"denmark",flag:"dk",text:"Denmark"},{key:"fi",value:"finland",flag:"fi",text:"Finland"},{key:"de",value:"germany",flag:"de",text:"Germany"},{key:"hk",value:"hongkong",flag:"hk",text:"Hong Kong"},{key:"in",value:"india",flag:"in",text:"India"},{key:"id",value:"indonesia",flag:"id",text:"Indonesia"},{key:"it",value:"italy",flag:"it",text:"Italy"},{key:"jp",value:"japan",flag:"jp",text:"Japan"},{key:"my",value:"malaysia",flag:"my",text:"Malaysia"},{key:"nl",value:"netherlands",flag:"nl",text:"Netherlands"},{key:"nz",value:"newzealand",flag:"nz",text:"New Zealand"},{key:"ph",value:"philippines",flag:"ph",text:"Philippines"},{key:"sg",value:"singapore",flag:"sg",text:"Singapore"},{key:"za",value:"southafrica",flag:"za",text:"South Africa"},{key:"es",value:"spain",flag:"es",text:"Spain"},{key:"ch",value:"switzerland",flag:"ch",text:"Switzerland"},{key:"tw",value:"taiwan",flag:"tw",text:"Taiwan"},{key:"th",value:"thailand",flag:"th",text:"Thailand"},{key:"us",value:"unitedstates",flag:"us",text:"United States"},{key:"vn",value:"vietnam",flag:"vn",text:"Vietnam"}],onChange:function(e,t){var a=t.value;o(a),d([]),b(Object(v.a)(Object(v.a)({},E),{},{university:""}))},required:!0})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"University"),r.a.createElement(Ce.a,{placeholder:"Select University",fluid:!0,search:!0,selection:!0,options:N,onChange:function(e,t){var a=t.value;return b(Object(v.a)(Object(v.a)({},E),{},{university:a}))},required:!0})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Module Code"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"module",placeholder:"Module Code",value:g,onChange:function(e){return b(Object(v.a)(Object(v.a)({},E),{},{module:e.target.value}))},required:!0})))),O=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Request"),r.a.createElement("button",{onClick:h,className:"ui button"},"Cancel"));return r.a.createElement(Ye,{onDismiss:h,title:"Request New Module",content:y,actions:O})})),Ve=(a(347),a(374),function(e){var t=e.university,a=e.modules,c=Object(n.useState)({value:"",results:a}),s=Object(B.a)(c,2),o=s[0],i=s[1];return r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement("h3",null,r.a.createElement(l.b,{to:"/".concat(t.acronym),className:"red-link"},"".concat(t.name)))),r.a.createElement("div",{className:"eight wide right aligned column"},r.a.createElement("div",{className:"ui category search"},r.a.createElement("div",{className:"ui fluid icon input"},r.a.createElement("input",{type:"text",name:"search",placeholder:"Search module name or code...",value:o.value,onChange:function(e){return function(e){var t=a;t=t.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.title.toLowerCase().includes(e.target.value.toLowerCase())})),i({results:t,value:e.target.value})}(e)}}),r.a.createElement("i",{className:"search icon"}))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"ui three doubling cards"},o.results.length>0?o.results.map((function(e){return r.a.createElement(xe,{module:e,key:e._id})})):r.a.createElement("div",null,"No results found.")))}),We=Object(i.b)((function(e){return{university:e.university,module:e.module,auth:e.auth}}),{getUniversities:function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/categories");case 3:a=e.sent,t({type:"GET_UNIVERSITIES",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"UNIVERSITIES_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getModules:Ee})((function(e){var t=e.getUniversities,a=e.getModules,c=e.university,s=e.module,l=e.auth,o=c.universities,i=c.loading,u=s.modules,m=s.loading;Object(n.useEffect)((function(){a()}),[]),Object(n.useEffect)((function(){t()}),[]);var d=Object(n.useState)(!1),p=Object(B.a)(d,2),f=p[0],E=p[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement("h1",{className:"red-text"},"Explore modules")),r.a.createElement("div",{className:"eight wide right aligned column"},r.a.createElement("button",{onClick:function(){return E(!0)},className:"ui button red-button"},r.a.createElement("i",{className:"ui icon plus"}),"Request New Module"))),l.user&&!i&&!m&&u&&o&&r.a.createElement("div",null,o.length>0&&o.map((function(e){return r.a.createElement(Ve,{key:e._id,university:e,modules:u.filter((function(t){return e.modules.indexOf(t._id)>-1}))})})))),f&&r.a.createElement(Be,{setShowing:E}))})),ze=Object(i.b)(null,{addRequest:pe})((function(e){var t=e.uniName,a=e.setShowing,c=e.addRequest,s=Object(n.useState)({university:t,module:""}),l=Object(B.a)(s,2),o=l[0],i=l[1],u=(o.university,o.module),m=function(){a(!1)},d=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),c(o),m()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"University"),r.a.createElement("div",{className:"ui input"},"".concat(t))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Module Code"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"module",placeholder:"Module Code",value:u,onChange:function(e){return i(Object(v.a)(Object(v.a)({},o),{},{module:e.target.value}))},required:!0})))),p=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Request"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel"));return r.a.createElement(Ye,{onDismiss:m,title:"Request New Module",content:d,actions:p})})),He=function(e){var t=e.modules,a=e.setShowing,c=Object(n.useState)({value:"",results:t}),s=Object(B.a)(c,2),l=s[0],o=s[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"seven wide column"},r.a.createElement("button",{onClick:function(){return a(!0)},className:"ui button red-button"},r.a.createElement("i",{className:"ui icon plus"}),"Request New Module")),r.a.createElement("div",{className:"nine wide right aligned column"},r.a.createElement("div",{className:"ui category search"},r.a.createElement("div",{className:"ui fluid icon input"},r.a.createElement("input",{type:"text",name:"search",placeholder:"Search module name or code...",value:l.value,onChange:function(e){return function(e){var a=t;a=a.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.title.toLowerCase().includes(e.target.value.toLowerCase())})),o({results:a,value:e.target.value})}(e)}}),r.a.createElement("i",{className:"search icon"}))))),r.a.createElement("div",{className:"ui hidden divider"}),r.a.createElement("div",{className:"ui three doubling cards"},l.results.length>0?l.results.map((function(e){return r.a.createElement(xe,{module:e,key:e._id})})):r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},"No results found.")),r.a.createElement("div",{className:"ui hidden divider"}))},Je=Object(i.b)((function(e){return{module:e.module,university:e.university}}),{getModulesInUniversity:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/universities/modules/".concat(e));case 3:n=t.sent,a({type:"GET_MODULES_IN_UNIVERSITY",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"MODULES_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getUniversity:Ue})((function(e){var t=e.getModulesInUniversity,a=e.getUniversity,c=e.match,s=e.module,l=s.modulesInUniversity,o=s.loading,i=e.university;Object(n.useEffect)((function(){t(c.params.uni),a(c.params.uni)}),[]);var u=Object(n.useState)(!1),m=Object(B.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(!0),E=Object(B.a)(f,2),v=E[0],b=E[1],g=Object(n.useState)(!1),h=Object(B.a)(g,2),N=h[0],y=h[1],O=i.loading||!i.university||i.university.acronym!=c.params.uni?r.a.createElement("div",null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"picture-container"},r.a.createElement("img",{src:"".concat(i.university.logo),className:"university-picture"})),r.a.createElement("div",{className:"ui segment"},r.a.createElement("h3",null,"Overview:"),r.a.createElement("p",null,"".concat(i.university.overview)),r.a.createElement("h3",null,"Website:"),r.a.createElement("p",null,"".concat(i.university.website)))),j=o||!l?r.a.createElement("div",null):r.a.createElement(He,{modules:l,setShowing:p});return i.loading||!i.university||o||!l||i.university.acronym!=c.params.uni?r.a.createElement("div",{className:"ui centered active loader"}):r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement("a",{onClick:function(){b(!0),y(!1)},className:"item ".concat(v?"active":"")},"Overview"),r.a.createElement("a",{onClick:function(){b(!1),y(!0)},className:"item ".concat(N?"active":"")},"Modules")),r.a.createElement("div",{className:""},v?O:j)))),d&&r.a.createElement(ze,{uniName:i.university.name,setShowing:p}))})),Qe=function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},t.next=4,P.a.post("/profiles",e,n);case 4:r=t.sent,a({type:"UPDATE_PROFILE",payload:r.data}),a(I("Profile Updated","success")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ze=function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.delete("/profiles/experience/delete/".concat(e));case 3:n=t.sent,a({type:"UPDATE_PROFILE",payload:n.data}),a(I("Experience Removed","success")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ke=function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.delete("/profiles/education/delete/".concat(e));case 3:n=t.sent,a({type:"UPDATE_PROFILE",payload:n.data}),a(I("Education Removed","success")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Xe=Object(i.b)(null,{deleteExperience:Ze})((function(e){var t=e.user,a=e.profile,c=e.experience,s=e.deleteExperience,l=Object(n.useState)(!1),o=Object(B.a)(l,2),i=o[0],u=o[1],m=function(){u(!1)},d=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return s(c._id)},className:"ui button red-button"},"Yes"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel"));return r.a.createElement("div",null,r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("h3",null,"".concat(c.company)),t._id===a.user&&r.a.createElement("button",{onClick:function(){return u(!0)},className:"ui right floated icon small button"},r.a.createElement("i",{className:"ui icon trash"})),r.a.createElement("p",null,r.a.createElement(W.a,{format:"DD/MM/YYYY"},c.startDate)," -"," ",c.current?" Current":r.a.createElement(W.a,{format:"DD/MM/YYYY"},c.endDate)),r.a.createElement("p",null,r.a.createElement("strong",null,"Position: "),"".concat(c.title)),c.description&&r.a.createElement("p",null,r.a.createElement("strong",null,"Description: "),"".concat(c.description))),i&&r.a.createElement(je,{onDismiss:m,title:"Delete Experience",content:"Are you sure you want to delete this item?",actions:d}))})),$e=Object(i.b)(null,{deleteEducation:Ke})((function(e){var t=e.user,a=e.profile,c=e.education,s=e.deleteEducation,l=Object(n.useState)(!1),o=Object(B.a)(l,2),i=o[0],u=o[1],m=function(){u(!1)},d=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return s(c._id)},className:"ui button red-button"},"Yes"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel"));return r.a.createElement("div",null,r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("h3",null,"".concat(c.school)),t._id===a.user&&r.a.createElement("button",{onClick:function(){return u(!0)},className:"ui right floated icon small button"},r.a.createElement("i",{className:"ui icon trash"})),r.a.createElement("p",null,r.a.createElement(W.a,{format:"DD/MM/YYYY"},c.startDate)," -"," ",c.current?" Current":r.a.createElement(W.a,{format:"DD/MM/YYYY"},c.endDate)),r.a.createElement("p",null,r.a.createElement("strong",null,"Degree: "),"".concat(c.degree)),r.a.createElement("p",null,r.a.createElement("strong",null,"Field of Study: "),"".concat(c.fieldOfStudy)),c.description&&r.a.createElement("p",null,r.a.createElement("strong",null,"Description: "),"".concat(c.description))),i&&r.a.createElement(je,{onDismiss:m,title:"Delete Education",content:"Are you sure you want to delete this item?",actions:d}))})),et=Object(i.b)(null,{deleteEducation:Ke,deleteExperience:Ze})((function(e){var t=e.user,a=e.profile,c=e.setShowingBio,s=e.setShowingSkills,l=e.setShowingEducation,o=e.setShowingExperience;return r.a.createElement("div",null,(a.bio||t._id===a.user)&&r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",null," Bio ",t._id===a.user&&r.a.createElement("button",{onClick:function(){return c(!0)},className:"invisible-button"},r.a.createElement("i",{className:"ui tiny icon edit"}))),a.bio?r.a.createElement("p",null,"".concat(a.bio)):r.a.createElement("div",null,"You have not set up a bio")),(a.skills&&a.skills.length>0||t._id===a.user)&&r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",null,"Skill Set ",t._id===a.user&&r.a.createElement("button",{onClick:function(){return s(!0)},className:"invisible-button"},r.a.createElement("i",{className:"ui tiny icon edit"}))),a.skills&&a.skills.length>0?r.a.createElement("div",{className:"icons"},a.skills.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("i",{className:"check icon"})," ","".concat(e))}))):r.a.createElement("div",null,"You have not added any skill set")),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"eight wide stretched column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",{className:"red-text"},"Experience ",t._id===a.user&&r.a.createElement("button",{onClick:function(){return o(!0)},className:"invisible-button"},r.a.createElement("i",{className:"ui tiny icon red-text plus square outline"}))),a.experiences&&a.experiences.length>0?r.a.createElement(n.Fragment,null,a.experiences.map((function(e){return r.a.createElement(Xe,{key:e._id,experience:e,user:t,profile:a})}))):r.a.createElement("div",null,"No experience record"))),r.a.createElement("div",{className:"eight wide stretched column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",{className:"red-text"},"Education ",t._id===a.user&&r.a.createElement("button",{onClick:function(){return l(!0)},className:"invisible-button"},r.a.createElement("i",{className:"ui tiny icon red-text plus square outline"}))),a.educations&&a.educations.length>0?r.a.createElement(n.Fragment,null,a.educations.map((function(e){return r.a.createElement($e,{key:e._id,education:e,user:t,profile:a})}))):r.a.createElement("div",null,"No education record")))))})),tt=function(e){return r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active",style:{position:"fixed"}},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui tiny modal visible active",style:{position:"flexible"}},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"scrolling content"},e.content),r.a.createElement("div",{className:"actions"},e.actions)))},at=a(184),nt=a.n(at),rt=Object(i.b)(null,{changePicture:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({data:e}),t.prev=2,t.next=5,P.a.post("/profiles/picture",r,n);case 5:c=t.sent,a({type:"UPDATE_PROFILE",payload:c.data}),a(I("Profile Picture successfully changed!","success")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.setShowingPhoto,a=e.profile,c=e.changePicture,s=a.avatar,l=Object(n.useState)({image:s,allowZoomOut:!1,position:{x:.5,y:.5},scale:1,rotate:0,borderRadius:120,preview:null,width:200,height:200,editor:null}),o=Object(B.a)(l,2),i=o[0],u=o[1],m=Object(n.useState)({data:""}),d=Object(B.a)(m,2),p=d[0],f=(d[1],function(){t(!1)}),E=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(e){!function(){var e=i.editor;if(e){var t=e.getImageScaledToCanvas().toDataURL();u(Object(v.a)(Object(v.a)({},i),{},{image:t,scale:1})),p.data=t}}(),function(e){e.preventDefault(),c(p),f()}(e)},className:"ui button red-button"},"Save"),r.a.createElement("button",{onClick:f,className:"ui button"},"Cancel")),b=r.a.createElement("div",{align:"center"},r.a.createElement(nt.a,{scale:parseFloat(i.scale),crossOrigin:"anonymous",width:i.width,height:i.height,position:i.position,ref:function(e){i.editor=e},onPositionChange:function(e){return function(e){u(Object(v.a)(Object(v.a)({},i),{},{position:e}))}(e)},rotate:parseFloat(i.rotate),borderRadius:i.width/(100/i.borderRadius),image:i.image}),r.a.createElement("div",{align:"center",style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("label",{htmlFor:"file",className:"ui icon button"},r.a.createElement("i",{className:"file icon"}),"Choose File"),r.a.createElement("input",{name:"newImage",accept:"image/png, image/jpeg",type:"file",id:"file",style:{display:"none"},onChange:function(e){return function(e){var t=e.target.files[0],a=t.type;(a.endsWith("jpeg")||a.endsWith("png")||a.endsWith("jpg"))&&u(Object(v.a)(Object(v.a)({},i),{},{image:t}))}(e)}}),r.a.createElement("input",{className:"ui slider range",name:"scale",type:"range",onChange:function(e){return function(e){var t=parseFloat(e.target.value);u(Object(v.a)(Object(v.a)({},i),{},{scale:t}))}(e)},min:i.allowZoomOut?"0.1":"1",max:"2",step:"0.01",defaultValue:"1",style:{color:"#b82601"}})));return r.a.createElement(tt,{onDismiss:f,title:"Profile Photo",content:b,actions:E})})),ct=function(e){var t=e.user,a=e.profile,c=e.setShowingHeader,s=Object(n.useState)(!1),l=Object(B.a)(s,2),o=l[0],i=l[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"ui grid",style:{backgroundColor:"#b82601"}},r.a.createElement("div",{className:"sixteen wide column center-text white-text",style:{padding:"2rem"}},r.a.createElement("div",null,r.a.createElement(Y.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("button",{onClick:function(){return i(!0)},className:"circular ui icon button"},r.a.createElement("i",{className:"icon camera"}))},r.a.createElement("img",{className:"ui small circular centered image",style:{position:"relative"},src:a.avatar,alt:""}))),r.a.createElement("div",{className:"splitscreen"},r.a.createElement("h4",{className:"hide-buttonA large"},"".concat(a.name," "),t._id===a.user&&r.a.createElement("button",{onClick:function(){return c(!0)},className:"invisible-button hide-buttonB"},r.a.createElement("i",{className:"ui tiny white icon edit outline",style:{color:"white"}})))),a.status&&"0"!=a.status&&r.a.createElement("div",{className:"lead"},"".concat(a.status)),r.a.createElement("div",{className:"icons"},a.social&&a.social.website&&r.a.createElement("a",{href:"".concat(a.social.website),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big globe icon"})),a.social&&a.social.twitter&&r.a.createElement("a",{href:"".concat(a.social.twitter),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big twitter icon"})),a.social&&a.social.facebook&&r.a.createElement("a",{href:"".concat(a.social.facebook),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big facebook icon"})),a.social&&a.social.linkedin&&r.a.createElement("a",{href:"".concat(a.social.linkedin),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big linkedin icon"})),a.social&&a.social.youtube&&r.a.createElement("a",{href:a.social.youtube,target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big youtube icon"})),a.social&&a.social.instagram&&r.a.createElement("a",{href:"".concat(a.social.instagram),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big instagram icon"})))))),o&&r.a.createElement(rt,{setShowingPhoto:i,profile:a}))},st=Object(i.b)(null,{updateProfile:Qe})((function(e){var t=e.setShowingBio,a=e.profile,c=e.updateProfile,s=Object(n.useState)({bio:a.bio?a.bio:"",skills:"".concat(a.skills.join(","))}),l=Object(B.a)(s,2),o=l[0],i=l[1],u=o.bio,m=function(){t(!1)},d=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Save"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel")),p=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),c({profile:o}),m()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Bio"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{type:"text",name:"bio",value:u,onChange:function(e){return function(e){return i(Object(v.a)(Object(v.a)({},o),{},Object(re.a)({},e.target.name,e.target.value)))}(e)},placeholder:"Tell us a little about yourself"}))));return r.a.createElement(Ne,{onDismiss:m,title:"Edit your bio",content:p,actions:d})})),lt=Object(i.b)(null,{updateProfile:Qe})((function(e){var t=e.setShowingSkills,a=e.profile,c=e.updateProfile,s=Object(n.useState)({skills:"".concat(a.skills.join(","))}),l=Object(B.a)(s,2),o=l[0],i=l[1],u=o.skills,m=function(){t(!1)},d=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Save"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel")),p=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),c({profile:o}),m()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Skills"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"skills",value:u,onChange:function(e){return function(e){return i(Object(v.a)(Object(v.a)({},o),{},Object(re.a)({},e.target.name,e.target.value)))}(e)},placeholder:"Tell us more about your skills (use comma to separate values, e.g. HTML,CSS,AdobeXD,PHP)"}))));return r.a.createElement(Ne,{onDismiss:m,title:"Edit your skill set",content:p,actions:d})})),ot=Object(i.b)(null,{updateProfile:Qe})((function(e){var t=e.setShowingHeader,a=e.profile,c=e.updateProfile,s=Object(n.useState)({skills:"".concat(a.skills.join(",")),status:"".concat(a.status),social:a.social}),l=Object(B.a)(s,2),o=l[0],i=l[1],u=o.status,m=o.social,d=Object(n.useState)({website:m&&m.website?m.website:"",twitter:m&&m.twitter?m.twitter:"",facebook:m&&m.facebook?m.facebook:"",linkedin:m&&m.linkedin?m.linkedin:"",youtube:m&&m.youtube?m.youtube:"",instagram:m&&m.instagram?m.instagram:""}),p=Object(B.a)(d,2),f=p[0],E=p[1],b=f.website,g=f.twitter,h=f.facebook,N=f.linkedin,y=f.youtube,O=f.instagram,j=function(){t(!1)},w=function(e){return E(Object(v.a)(Object(v.a)({},f),{},Object(re.a)({},e.target.name,e.target.value)))},x=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Save"),r.a.createElement("button",{onClick:j,className:"ui button"},"Cancel")),k=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),o.social=f,c({profile:o}),j()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Status"),r.a.createElement("div",{className:"ui input"},r.a.createElement("select",{name:"status",value:u,onChange:function(e){return function(e){return i(Object(v.a)(Object(v.a)({},o),{},Object(re.a)({},e.target.name,e.target.value)))}(e)}},r.a.createElement("option",{value:"0"},"Select your status"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Teaching Assistant"},"Teaching Assistant"),r.a.createElement("option",{value:"Instructor"},"Instructor")))),r.a.createElement("h5",{className:"header"},"Social Network Links"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon globe"}),"Website"),r.a.createElement("input",{type:"text",placeholder:"Website URL",name:"website",value:b,onChange:function(e){return w(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon twitter"}),"Twitter"),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:g,onChange:function(e){return w(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon facebook"}),"Facebook"),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:h,onChange:function(e){return w(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon linkedin"}),"Linkedin"),r.a.createElement("input",{type:"text",placeholder:"Linkedin URL",name:"linkedin",value:N,onChange:function(e){return w(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon youtube"}),"Youtube"),r.a.createElement("input",{type:"text",placeholder:"Youtube URL",name:"youtube",value:y,onChange:function(e){return w(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon instagram"}),"Instagram"),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:O,onChange:function(e){return w(e)}})));return r.a.createElement(Ne,{onDismiss:j,title:"Edit your personal info",content:k,actions:x})})),it=Object(i.b)(null,{addEducation:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},t.next=4,P.a.put("/profiles/education/add",e,n);case 4:r=t.sent,a({type:"UPDATE_PROFILE",payload:r.data}),a(I("Education Added","success")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response.data.errors,a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.setShowingEducation,a=e.addEducation,c=Object(n.useState)({school:"",degree:"",fieldOfStudy:"",startDate:"",endDate:"",current:!1,description:""}),s=Object(B.a)(c,2),l=s[0],o=s[1],i=l.school,u=l.degree,m=l.fieldOfStudy,d=l.startDate,p=l.endDate,f=l.current,E=l.description,b=Object(n.useState)(!1),g=Object(B.a)(b,2),h=g[0],N=g[1],y=function(){t(!1)},O=function(e){return o(Object(v.a)(Object(v.a)({},l),{},Object(re.a)({},e.target.name,e.target.value)))},j=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Add"),r.a.createElement("button",{onClick:y,className:"ui button"},"Cancel")),w=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),a({education:l}),y()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"School or Bootcamp"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"School or Bootcamp",name:"school",required:!0,value:i,onChange:function(e){return O(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Degree or Certificate"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Degree or Certificate",name:"degree",required:!0,value:u,onChange:function(e){return O(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Field of Study"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Field of Study",name:"fieldOfStudy",value:m,onChange:function(e){return O(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Start Date"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"date",name:"startDate",value:d,onChange:function(e){return O(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"checkbox",className:"ui checkbox",name:"current",checked:f,value:f,onChange:function(e){o(Object(v.a)(Object(v.a)({},l),{},{current:!f})),N(!h)}})," Current School"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"End Date"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"date",name:"endDate",value:p,onChange:function(e){return O(e)},disabled:h?"disabled":""}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Description"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"description",cols:"30",rows:"5",placeholder:"Description",value:E,onChange:function(e){return O(e)}}))));return r.a.createElement(Ne,{onDismiss:y,title:"Add Education",content:w,actions:j})})),ut=Object(i.b)(null,{addExperience:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},t.next=4,P.a.put("/profiles/experience/add",e,n);case 4:r=t.sent,a({type:"UPDATE_PROFILE",payload:r.data}),a(I("Experience Added","success")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response.data.errors,a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.setShowingExperience,a=e.addExperience,c=Object(n.useState)({company:"",title:"",startDate:"",endDate:"",current:!1,description:""}),s=Object(B.a)(c,2),l=s[0],o=s[1],i=l.company,u=l.title,m=l.startDate,d=l.endDate,p=l.current,f=l.description,E=Object(n.useState)(!1),b=Object(B.a)(E,2),g=b[0],h=b[1],N=function(){t(!1)},y=function(e){return o(Object(v.a)(Object(v.a)({},l),{},Object(re.a)({},e.target.name,e.target.value)))},O=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Add"),r.a.createElement("button",{onClick:N,className:"ui button"},"Cancel")),j=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),a({experience:l}),N()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Position or Job Title"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Position or Job Title",name:"title",required:!0,value:u,onChange:function(e){return y(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Company"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Company",name:"company",required:!0,value:i,onChange:function(e){return y(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Start Date"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"date",name:"startDate",value:m,onChange:function(e){return y(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"checkbox",className:"ui checkbox",name:"current",checked:p,value:p,onChange:function(e){o(Object(v.a)(Object(v.a)({},l),{},{current:!p})),h(!g)}})," Current Job"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"End Date"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"date",name:"endDate",value:d,onChange:function(e){return y(e)},disabled:g?"disabled":""}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Description"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"description",cols:"30",rows:"5",placeholder:"Description",value:f,onChange:function(e){return y(e)}}))));return r.a.createElement(Ne,{onDismiss:N,title:"Add Experience",content:j,actions:O})})),mt=function(e){var t=e.postsByUser;return t.length>0&&t.map((function(e){return r.a.createElement(we,{post:e,key:e._id})}))},dt=a(185),pt=a(186),ft=a(189),Et=a(188),vt=a(187),bt=function(e){Object(ft.a)(a,e);var t=Object(Et.a)(a);function a(){return Object(dt.a)(this,a),t.apply(this,arguments)}return Object(pt.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.title,a=e.data,n=e.type,r=e.height,c=void 0===r?250:r,s=e.onSelect,l=e.countLabel,o=e.discreteDomains,i=e.colors,u=Object(F.a)(e,["title","data","type","height","onSelect","countLabel","discreteDomains","colors"]);this.graph=new vt.a(this.chart,Object(v.a)({title:t,data:a,type:n,height:c,countLabel:l,discreteDomains:o,colors:i,is_navigable:!!s},u)),s&&this.graph.parent.addEventListener("data-select",s)}},{key:"componentWillReceiveProps",value:function(e){this.graph.update(e.data)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.chart=t}})}}]),a}(n.Component),gt=(a(375),Object(i.b)((function(e){return{post:e.post,profile:e.profile,auth:e.auth}}),{getPostsByUser:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/users/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POSTS_BY_USER",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:f,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getProfileById:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/profiles/".concat(e));case 3:n=t.sent,a({type:"GET_PROFILE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getPostsByCurrentUser:function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/users/posts");case 3:a=e.sent,t({type:"GET_POSTS_BY_USER",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:f,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentProfile:function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/profiles/");case 3:a=e.sent,t({type:"GET_PROFILE",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"CLEAR_PROFILE"}),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getContributions:function(){return function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/contributions/");case 3:a=e.sent,t({type:"GET_CONTRIBUTIONS",payload:{id:"me",data:a.data}}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"CLEAR_PROFILE"}),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getContributionsById:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("/contributions/".concat(e));case 3:n=t.sent,a({type:"GET_CONTRIBUTIONS",payload:{id:e,data:n.data}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"CLEAR_PROFILE"}),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.getProfileById,c=e.getCurrentProfile,s=e.getContributions,l=e.getContributionsById,o=e.getPostsByCurrentUser,i=e.getPostsByUser,u=e.profile,m=e.auth,d=e.post,p=d.postsByUser,f=d.loading;Object(n.useEffect)((function(){"me"===t.params.id?(o(),c(),s()):(i(t.params.id),a(t.params.id),l(t.params.id))}),[a,c,s,t.params.id]);var E=Object(n.useState)("overview"),v=Object(B.a)(E,2),b=v[0],g=v[1],h=Object(n.useState)(!1),N=Object(B.a)(h,2),y=N[0],O=N[1],j=Object(n.useState)(!1),w=Object(B.a)(j,2),x=w[0],k=w[1],S=Object(n.useState)(!1),_=Object(B.a)(S,2),C=_[0],R=_[1],T=Object(n.useState)(!1),P=Object(B.a)(T,2),D=P[0],I=P[1],M=Object(n.useState)(!1),U=Object(B.a)(M,2),A=U[0],L=U[1],F=u.profile,q=u.loading,G=t.params.id,Y=Object(n.useState)({data:{dataPoints:{},start:new Date((new Date).setMonth((new Date).getMonth()-12)),end:new Date},countLabel:"Level",discreteDomains:0,colors:["#ebedf0","#e8c4ba","#d88f7d","#c95b40","#b82601"]}),V=Object(B.a)(Y,2),W=V[0],z=(V[1],u.contributionsId&&r.a.createElement(bt,{title:"Contribution Graph",type:"heatmap",data:{dataPoints:u.contributions,start:new Date((new Date).setMonth((new Date).getMonth()-12)),end:new Date},countLabel:W.countLabel,discreteDomains:W.discreteDomains,colors:W.colors,onSelect:function(e){return console.log(e.index)}}));return r.a.createElement(n.Fragment,null,!F||!u.contributionsId||q||f||!p||!m.user||m.loading||"me"!==G&&G!=F.user||"me"!==u.contributionsId&&u.contributionsId!==""+F.user||"me"===G&&m.user&&m.user._id!=F.user||"me"===u.contributionsId&&m.user&&m.user._id!==""+F.user?r.a.createElement("div",{className:"ui active centered loader"},u.user):r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement(ct,{user:m.user,profile:F,setShowingHeader:R}),r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement("a",{onClick:function(){return g("overview")},className:"item ".concat("overview"===b?"active":"")},"Overview"),r.a.createElement("a",{onClick:function(){return g("statistics")},className:"item ".concat("statistics"===b?"active":"")},"Statistics"),r.a.createElement("a",{onClick:function(){return g("posts")},className:"item ".concat("posts"===b?"active":"")},"Posts")),r.a.createElement("div",{className:""},"overview"===b?r.a.createElement(et,{user:m.user,profile:F,setShowingBio:O,setShowingSkills:k,setShowingEducation:I,setShowingExperience:L}):"statistics"===b?r.a.createElement("div",{className:"ui segment",style:{overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap"}},z):r.a.createElement(mt,{postsByUser:p}))))),y&&r.a.createElement(st,{setShowingBio:O,profile:F}),x&&r.a.createElement(lt,{setShowingSkills:k,profile:F}),C&&r.a.createElement(ot,{setShowingHeader:R,profile:F}),D&&r.a.createElement(it,{setShowingEducation:I,profile:F}),A&&r.a.createElement(ut,{setShowingExperience:L,profile:F})))}))),ht=Object(i.b)(null,{markAsRead:A,deleteNotification:function(e){return function(){var t=Object(R.a)(C.a.mark((function t(a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.delete("/notifications/delete/".concat(e));case 3:a({type:"DELETE_NOTIFICATION",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"NOTIFICATION_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.notification,a=e.markAsRead,c=e.deleteNotification,s=t._id,o=t.user,i=t.action,u=t.type,m=t.read,d=t.date,p=Object(n.useState)(null),f=Object(B.a)(p,2),E=f[0],v=f[1],b=Object(n.useState)(null),g=Object(B.a)(b,2),h=g[0],N=g[1];return Object(n.useState)((function(){P.a.get("/profiles/".concat(o)).then((function(e){return v(e.data)})),"request"!==u?P.a.get("/posts/".concat(i)).then((function(e){return N(e.data)})):P.a.get("/modules/".concat(i)).then((function(e){return N(e.data)}))}),[]),E&&h&&r.a.createElement("div",{className:"ui segment",style:{backgroundColor:!0===m?"#f7f7f7":"inherit",boxShadow:!0===m?"none":""}},r.a.createElement("div",{className:"ui comments"},r.a.createElement("div",{className:"comment"},r.a.createElement(Ce.a,{icon:"ellipsis vertical",direction:"left",style:{float:"right"}},r.a.createElement(Ce.a.Menu,null,r.a.createElement(Ce.a.Item,{text:"Mark as read",onClick:function(){return a(s)}}),r.a.createElement(Ce.a.Item,{text:"Delete",onClick:function(){return c(s)}}))),r.a.createElement("a",{className:"avatar"},r.a.createElement("img",{src:"request"===u?"https://i.ibb.co/jHjp6qk/square-logo.jpg":"".concat(E.avatar)})),r.a.createElement("div",{className:"content"},r.a.createElement(l.b,{to:"request"===u?"/".concat(h.acronym,"/").concat(h.name):"/".concat(h.uniAcronym,"/").concat(h.moduleName,"/").concat(i),onClick:function(){return a(s)},className:!0===m?"author grey-text":"author",style:{fontSize:"1.1rem",fontWeight:!0===m?"normal":"bold"}},"request"===u?"Your module request has been approved by admin":"".concat(E.name,"upvote"===u?" upvoted your post":" commented on your post")),r.a.createElement("div",{className:"text small-text"},r.a.createElement(W.a,{fromNow:!0},d))))))})),Nt=Object(i.b)((function(e){return{notification:e.notification}}),{getNotifications:U})((function(e){var t=e.getNotifications,a=e.notification,c=a.notifications,s=a.loading;return Object(n.useEffect)((function(){t()}),[]),!s&&r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(ce,null),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"ten wide centered column"},r.a.createElement("h1",{className:"red-text"},"Notifications"),c.length>0?c.map((function(e){return r.a.createElement(ht,{key:e._id,notification:e})})):r.a.createElement("div",null,"You have no notifications"),r.a.createElement("div",{className:"ui hidden divider"}),r.a.createElement("div",{className:"ui hidden divider"})))))}));a(376);localStorage.token&&M(localStorage.token);var yt=function(){return Object(n.useEffect)((function(){S.dispatch(L())}),[]),r.a.createElement(i.a,{store:S},r.a.createElement(l.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(Z,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:$}),r.a.createElement(o.b,{exact:!0,path:"/login",component:ie}),r.a.createElement(o.b,{exact:!0,path:"/register",component:ue}),r.a.createElement(o.b,{exact:!0,path:"/verification",component:ae}),r.a.createElement(o.b,{exact:!0,path:"/verify/:token",component:ne}),r.a.createElement(o.b,{exact:!0,path:"/forgot-password",component:se}),r.a.createElement(o.b,{exact:!0,path:"/password-updated",component:oe}),r.a.createElement(o.b,{exact:!0,path:"/reset-password/:token",component:le}),r.a.createElement(q,{exact:!0,path:"/home",component:Te}),r.a.createElement(q,{exact:!0,path:"/explore",component:We}),r.a.createElement(q,{exact:!0,path:"/saved-posts",component:Ge}),r.a.createElement(q,{exact:!0,path:"/notifications",component:Nt}),r.a.createElement(G,{exact:!0,path:"/requests",component:Ie}),r.a.createElement(q,{exact:!0,path:"/profile/:id",component:gt}),r.a.createElement(q,{exact:!0,path:"/:uni",component:Je}),r.a.createElement(q,{exact:!0,path:"/:uni/:module",component:Ae}),r.a.createElement(q,{exact:!0,path:"/:uni/:module/:id",component:qe})))))};s.a.render(r.a.createElement(yt,null),document.querySelector("#root"))}},[[201,1,2]]]);